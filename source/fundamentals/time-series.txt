=======================
Time Series Collections
=======================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

In this guide, you can learn about **time series collections** in the
MongoDB Java driver. 

Time series collections efficiently store sequences of measurements over
a period of time. Time series data consists of any data collected over
time, metadata that describes the measurement, and the time of the
measurement.

Create a Time Series Collection
-------------------------------

To create a time series collection, use :manual:`the MongoDB Shell
</core/timeseries-collections/#create-a-time-series-collection>`. 

To check if you successfully created the collection, run the
following snippet in the driver:

.. code-block:: java

    Document commandResult = database.runCommand(new Document("listCollections", new BsonInt64(1)));
    System.out.println("listCollections: " + commandResult.toJson());

Your output should look similar to the following:

.. code-block:: json
   :emphasize-lines: 8

   {
     "cursor": {
       "id": <some number>,
       "ns": "<db_name>.$cmd.listCollections",
       "firstBatch": [
         {
            "name": <string>,
            "type": "timeseries",
            "options": {
               "expireAfterSeconds": <some number>,
               "timeseries": { ... }
            },
            ...
         },
         ...
        ]
     }
    }

Query a Time Series Collection
------------------------------

To query in a time series collection, use the same conventions as you
would for :doc:`retrieving </fundamentals/crud/read-operations/retrieve>`
and :doc:`aggregating data <fundamentals/aggregation>`. 

.. note:: Window Functions

   MongoDB version 5.0 introduces window functions into the aggregation
   framework. You can use window functions to perform operations on a
   contiguous span of time series data. For more information, see our
   :ref:`Aggregates Builders guide <builders-aggregates-setWindowFields>`.
   