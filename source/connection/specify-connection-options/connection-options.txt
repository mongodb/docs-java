.. _java-connection-uri-options:
.. _connection-options:

======================
Connection URI Options
======================

This section explains MongoDB connection and authentication options
supported by the {+driver-short+}. You can pass the connection options as
parameters of the connection URI to specify the behavior of the client.

.. list-table::
   :header-rows: 1
   :widths: 20 10 20

   * - Option Name
     - Type
     - Description

   * - **connectTimeoutMS**
     - integer
     - Specifies the maximum amount of time, in milliseconds, the Java
       driver waits for a connection to open before timing out. A value of
       ``0`` instructs the driver to never time out while waiting for a connection
       to open.

       | **Default**: ``10000`` (10 seconds)

   * - **maxLifeTimeMS**
     - integer
     - Specifies the maximum amount of time, in milliseconds, the Java
       driver will continue to use a pooled connection before closing the
       connection. A value of ``0`` indicates that there is no upper bound
       on how long the driver can keep a pooled connection open.

       | **Default**: ``0``

   * - **journal**
     - boolean
     - Specifies that the driver must wait for the connected MongoDB
       instance to group commit to the journal file on disk for all writes.

       | **Default**: ``false``

   * - **w**
     - string or integer
     - Specifies the write concern. For more information about values, see
       the server documentation for the :manual:`w option
       </reference/write-concern/#w-option>`.

       | **Default**: ``1``

   * - **wtimeoutMS**
     - integer
     - Specifies a time limit, in milliseconds, for the write concern. For
       more information, see the server documentation for the
       :manual:`wtimeoutMS option </reference/connection-string/#write-concern-options>`.
       A value of ``0`` instructs the driver to never time out write operations.

       | **Default**: ``0``

   * - **readPreference**
     - string
     - Specifies the read preference. For more information about values, see
       the server documentation for the
       :manual:`readPreference option </reference/connection-string/#urioption.readPreference>`.

       | **Default**: ``primary``

   * - **readPreferenceTags**
     - string
     - Specifies the read preference tags. For more information about values, see
       the server documentation for the
       :manual:`readPreferenceTags option </reference/connection-string/#urioption.readPreferenceTags>`.

       | **Default**: ``null``

   * - **maxStalenessSeconds**
     - integer
     - Specifies, in seconds, how stale a secondary can be before the
       driver stops communicating with that secondary. The minimum value is
       either 90 seconds or the heartbeat frequency plus 10 seconds, whichever
       is greater. For more information, see the server documentation for the
       :manual:`maxStalenessSeconds option </reference/connection-string/#urioption.maxStalenessSeconds>`.
       Not providing a parameter or explicitly specifying ``-1`` indicates
       that there must be no staleness check for secondaries.

       | **Default**: ``-1``

   * - **authMechanism**
     - string
     - Specifies the :ref:`authentication mechanism
       <java-authentication-mechanisms>` that the driver uses if a credential
       was supplied.

       | **Default**: By default, the client picks the most secure
         mechanism available based on the server version. For possible
         values, see the server documentation for the
         :manual:`authMechanism option
         </reference/connection-string/#urioption.authMechanism>`.

   * - **authSource**
     - string
     - Specifies the database in which the supplied credentials are validated. 

       | **Default**: ``admin``

   * - **authMechanismProperties**
     - string
     - Specifies authentication properties for the specified authentication
       mechanism as a list of colon-separated properties and values.
       For more information, see the server documentation for
       the :manual:`authMechanismProperties option
       </reference/connection-string/#urioption.authMechanismProperties>`.

       | **Default**: ``null``

   * - **appName**
     - string
     - Specifies the name of the application provided to MongoDB instances
       during the connection handshake. Can be used for server logs and
       profiling.

       | **Default**: ``null``

   * - **compressors**
     - string
     - Specifies one or more compression algorithms that the driver
       will attempt to use to compress requests sent to the connected
       MongoDB instance. Possible values include: ``zlib``, ``snappy``,
       and ``zstd``.

       | **Default**: ``null``

   * - **zlibCompressionLevel**
     - integer
     - Specifies the degree of compression that `Zlib <https://zlib.net/>`__
       uses to decrease the size of requests to the connected MongoDB
       instance. The level can range from ``-1`` to ``9``, with lower values
       compressing faster (but resulting in larger requests) and larger values
       compressing slower (but resulting in smaller requests).

       | **Default**: ``null``

   * - **retryWrites**
     - boolean
     - Specifies that the driver must retry supported write operations
       if they are unable to complete due to a network error.

       | **Default**: ``true``

   * - **retryReads**
     - boolean
     - Specifies that the driver must retry supported read operations
       if they are unable to complete due to a network error.

       | **Default**: ``true``

   * - **serverMonitoringMode**
     - string
     - Specifies which server monitoring protocol the driver uses. When set to
       ``auto``, the monitoring mode is determined by the environment in which
       the driver is running. The driver uses ``poll`` mode in function-as-a-service
       (FaaS) environments and ``stream`` mode in other environments.

       | **Default**: ``auto``

   * - **uuidRepresentation**
     - string
     - Specifies the UUID representation to use for read and write
       operations. For more information, see the driver documentation
       for the
       `MongoClientSettings.getUuidRepresentation() method <{+api+}/apidocs/mongodb-driver-core/com/mongodb/MongoClientSettings.html#getUuidRepresentation()>`__.

       | **Default**: ``unspecified``

   * - **proxyHost**
     - string
     - Specifies the SOCKS5 proxy IPv4 address, IPv6 address, or hostname.
       You must provide this value to connect to a SOCKS5 proxy. 
       
       | To learn how to connect to a SOCKS5 proxy, see the :ref:`Connect to 
        MongoDB by Using a SOCKS5 Proxy <java-connect-socks>` guide. 

       | **Default**: ``null``

   * - **proxyPort**
     - non-negative integer
     - Specifies the TCP port number of the SOCKS5 proxy server.

       | **Default**: ``1080`` when you set ``proxyHost``

   * - **proxyUsername**
     - string
     - Specifies the username for authentication to the SOCKS5 proxy server.
       The driver ignores ``null`` and empty string values for this setting.
       The driver requires that you pass values for both ``proxyUsername``
       and ``proxyPassword`` or that you omit both values.

       | **Default**: ``null``

   * - **proxyPassword**
     - string
     - Specifies the password for authentication to the SOCKS5 proxy server.
       The driver ignores ``null`` and empty string values for this setting.
       The driver requires that you pass values for both ``proxyUsername``
       and ``proxyPassword`` or that you omit both values.

       | **Default**: ``null``

For a complete list of options, see the
`ConnectionString <{+api+}/apidocs/mongodb-driver-core/com/mongodb/ConnectionString.html>`__
API documentation.
